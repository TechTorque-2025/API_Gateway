server:
  port: ":8080"

# IMPORTANT: This secret MUST be identical to the 'jwt.secret' value in your
# Spring Boot application.properties files. Use environment variables in production.
jwt_secret: "YourSuperSecretKeyForJWTGoesHereAndItMustBeVeryLongForSecurityPurposes"

services:
  # --- Authentication Service (Port 8081) ---
  - name: "auth"
    path_prefix: "/api/v1/auth"
    target_url: "http://localhost:8081"
    strip_prefix: "/api/v1/auth"
    auth_required: false # Login/Register must be public

  - name: "users"
    path_prefix: "/api/v1/users"
    target_url: "http://localhost:8081" # Also points to the auth service
    strip_prefix: "/api/v1"
    auth_required: true

  # --- Vehicle Service (Port 8082) ---
  - name: "vehicles"
    path_prefix: "/api/v1/vehicles"
    target_url: "http://localhost:8082"
    strip_prefix: "/api/v1"
    auth_required: true

  # --- Appointment & Scheduling Service (Port 8083) ---
  - name: "appointments"
    path_prefix: "/api/v1/appointments"
    target_url: "http://localhost:8083"
    strip_prefix: "/api/v1"
    auth_required: true

  # --- Service & Project Management Service (Port 8084) ---
  - name: "services"
    path_prefix: "/api/v1/services"
    target_url: "http://localhost:8084"
    strip_prefix: "/api/v1"
    auth_required: true

  - name: "projects"
    path_prefix: "/api/v1/projects"
    target_url: "http://localhost:8084" # Also points to the project service
    strip_prefix: "/api/v1"
    auth_required: true

  # --- Time Logging Service (Port 8085) ---
  - name: "time-logs"
    path_prefix: "/api/v1/time-logs"
    target_url: "http://localhost:8085"
    strip_prefix: "/api/v1"
    auth_required: true

  # --- Payment & Billing Service (Port 8086) ---
  - name: "payments"
    path_prefix: "/api/v1/payments"
    target_url: "http://localhost:8086"
    strip_prefix: "/api/v1"
    auth_required: true

  - name: "invoices"
    path_prefix: "/api/v1/invoices"
    target_url: "http://localhost:8086" # Also points to the payment service
    strip_prefix: "/api/v1"
    auth_required: true

  # --- Admin & Reporting Service (Port 8087) ---
  - name: "admin"
    path_prefix: "/api/v1/admin"
    target_url: "http://localhost:8087"
    strip_prefix: "/api/v1"
    auth_required: true

  # --- WebSocket Service (Port 8089) - Real-Time Updates ---
  - name: "websocket"
    path_prefix: "/ws"
    target_url: "http://localhost:8089"
    strip_prefix: ""
    auth_required: false # WebSocket handles auth differently

  - name: "websocket-api"
    path_prefix: "/api/v1/notifications"
    target_url: "http://localhost:8089"
    strip_prefix: "" # Don't strip - service expects full path
    auth_required: false # Health endpoint needs to be public

  # --- Notification Service (Port 8090) - Email & In-App Notifications ---
  - name: "notifications"
    path_prefix: "/api/v1/notify"
    target_url: "http://localhost:8090"
    strip_prefix: "" # Don't strip - service expects full path
    auth_required: true

  # --- AI Chatbot Service (Port 8091) - Bonus Feature ---
  - name: "ai-chatbot"
    path_prefix: "/api/v1/chatbot"
    target_url: "http://localhost:8091"
    strip_prefix: "" # Don't strip - chatbot expects full path
    auth_required: false # Chatbot handles its own auth